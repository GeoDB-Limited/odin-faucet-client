(function(e){function t(t){for(var r,s,c=t[0],i=t[1],u=t[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t,n){e.exports=n("56d7")},10:function(e,t){},11:function(e,t){},"1f10":function(e,t,n){"use strict";n("af87")},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Odin logo",src:n("829f")}}),r("search-bar")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-bar"},[n("div",{staticClass:"container-fluid"},[n("h2",[e._v("Faucet")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row d-flex justify-content-center"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.denom,expression:"denom"}],staticClass:"custom-select col-2 coin-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.denom=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"loki",selected:""}},[e._v("Loki")]),n("option",{attrs:{value:"minigeo"}},[e._v("Minigeo")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{id:"accountAddress",type:"text",placeholder:"odin1nnfeguq30x6nwxjhaypxymx3nulyspsuja4a2x"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:e.onSend}},[e._v(" Send ")])]),n("div",{staticClass:"row d-flex justify-content-center"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.alertShow,expression:"alertShow"}],class:"alert alert-"+e.alertClass,attrs:{role:"alert"}},[e._v(" "+e._s(e.alertText)+" ")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBalances,expression:"showBalances"}]},[n("h3",[e._v("Balances:")]),n("table",{staticClass:"table"},[e._m(0),n("tbody",e._l(e.balances,(function(t){return n("tr",{key:t.denom},[n("th",{attrs:{scope:"row"}},[n("span",{staticClass:"badge badge-secondary"},[e._v(" "+e._s(e.account)+" ")])]),n("td",[n("span",{class:"badge badge-"+e.badges.next()},[e._v(e._s(t.denom))])]),n("td",{staticClass:"amount"},[n("span",{staticClass:"badge badge-light"},[e._v(e._s(new Intl.NumberFormat("en-US").format(t.amount)))])])])})),0)])])])])},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("Account")]),n("th",{attrs:{scope:"col"}},[e._v("Denom")]),n("th",{attrs:{scope:"col"}},[e._v("Amount")])])])}],i=n("3835"),u=n("1da1"),l=(n("96cf"),n("d4ec")),d=n("bee2"),p=function(){function e(t){Object(l["a"])(this,e),this.badges=t,this.nextId=0}return Object(d["a"])(e,[{key:"next",value:function(){return this.nextId>=this.badges.length?null:this.badges[this.inc()]}},{key:"inc",value:function(){if(0==this.badges.length)throw new Error("Method called without badges");var e=this.nextId;return this.nextId=(this.nextId+1)%this.badges.length,e}}]),e}(),f=(n("caad"),n("2532"),n("ff70")),h=n("cea8"),v=n("ca19"),b=n("262e"),g=n("2caf"),m=n("9072"),w=(n("b0c0"),function(e){Object(b["a"])(n,e);var t=Object(g["a"])(n);function n(e){var r;return Object(l["a"])(this,n),r=t.call(this,e),r.name="AccountNotFoundError",r}return n}(Object(m["a"])(Error))),x=function(e){Object(b["a"])(n,e);var t=Object(g["a"])(n);function n(e,r){var a;return Object(l["a"])(this,n),a=t.call(this,r),a.name="PendingTimeException",a.data=e,a}return n}(Object(m["a"])(Error));function y(e){if(console.log(e),e.message.includes("invalid address"))throw new w("account not found");console.log("something bad happened")}function O(e){return j.apply(this,arguments)}function j(){return j=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=h["QueryClient"],e.next=3,f["Tendermint34Client"].connect(v.rpc);case 3:return e.t1=e.sent,e.t2=h["setupBankExtension"],n=e.t0.withExtensions.call(e.t0,e.t1,e.t2),e.next=8,n.bank.unverified.allBalances(t).catch(y);case 8:return r=e.sent,console.log("Account:",t),console.log("Balance:",r),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function _(e){console.log(e)}function k(e){return S.apply(this,arguments)}function S(){return S=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=h["StargateClient"],e.next=3,f["Tendermint34Client"].connect(v.rpc);case 3:return e.t1=e.sent,n=new e.t0(e.t1),e.next=7,n.getTx(t).catch(_);case 7:return r=e.sent,console.log("Tx by hash:",r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}var A=n("bc3a"),C=n.n(A);function E(e){throw console.log(e.response.data),new x(e.response.data,e)}function B(e,t){return R.apply(this,arguments)}function R(){return R=Object(u["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,C.a.post(v.faucet,{address:t,denom:n}).catch(E);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}var I={name:"SearchBar",data:function(){return{account:"",query:"",denom:"loki",balances:null,badges:new p([]),showBalances:!1,alertShow:!1,alertText:"",alertClass:"",timer:null,txHash:""}},methods:{onSend:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return clearInterval(e.timer),e.setAlert(!1),e.txHash="",t.next=5,e.fetchBalancesList();case 5:return n=t.sent,r=Object(i["a"])(n,3),a=r[0],o=r[1],s=r[2],e.setAlert(a,o,s),t.prev=11,e.setAlert(!0,"secondary","Status: sending tokens in progress..."),t.next=15,B(e.account,e.denom);case 15:c=t.sent,e.setAlert(!0,"info","Status: tokens sent, wait for the transaction approval"),e.txHash=c.data.txHash,e.timer=setInterval(Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBalancesList();case 2:n=t.sent,r=Object(i["a"])(n,3),a=r[0],o=r[1],s=r[2],e.setAlert(a,o,s);case 8:case"end":return t.stop()}}),t)}))),5e3),t.next=26;break;case 21:t.prev=21,t.t0=t["catch"](11),console.log(t.t0.message),void 0!==t.t0.data.error&&(void 0!==t.t0.data.time?e.setAlert(!0,"warning","Status: tokens limit per period reached, pending time left: ".concat(new Date(1e3*t.t0.data.time).toISOString().substr(11,8))):e.setAlert(!0,"danger",t.t0.data.error)),console.log("failed to send tokens");case 26:case"end":return t.stop()}}),t,null,[[11,21]])})))()},fetchBalancesList:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.account=e.query,""!==e.account){t.next=4;break}return console.log("account not found"),t.abrupt("return",[!1,"danger","Error: account not found"]);case 4:return t.prev=4,t.next=7,O(e.account);case 7:if(e.balances=t.sent,e.showBalances=!0,e.badges=new p(["success","warning"]),""===e.txHash){t.next=19;break}return t.next=13,k(e.txHash);case 13:if(n=t.sent,console.log(n.code),0!==n.code){t.next=18;break}return clearInterval(e.timer),t.abrupt("return",[!0,"success","Status: success, transaction submitted"]);case 18:return t.abrupt("return",[!0,"danger","Error: transaction failed"]);case 19:return t.abrupt("return",[!1,"",""]);case 22:if(t.prev=22,t.t0=t["catch"](4),!(t.t0 instanceof w)){t.next=28;break}return t.abrupt("return",[!0,"danger","Error: account not found"]);case 28:return console.log("something bad happened"),t.abrupt("return",[!0,"danger","Error: something bad happened"]);case 30:case"end":return t.stop()}}),t,null,[[4,22]])})))()},cancelAutoUpdate:function(){clearInterval(this.timer)},setAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.alertShow=e,this.alertClass=t,this.alertText=n}},beforeDestroy:function(){this.cancelAutoUpdate()}},T=I,P=(n("1f10"),n("2877")),q=Object(P["a"])(T,s,c,!1,null,"fce3de9a",null),N=q.exports,H={name:"App",components:{SearchBar:N}},M=H,L=(n("034f"),Object(P["a"])(M,a,o,!1,null,null,null)),D=L.exports;r["a"].config.productionTip=!1,new r["a"]({el:"#app",components:{App:D},template:"<App/>"})},6:function(e,t){},7:function(e,t){},8:function(e,t){},"829f":function(e,t,n){e.exports=n.p+"img/odin-logo.31760799.png"},"85ec":function(e,t,n){},9:function(e,t){},af87:function(e,t,n){},ca19:function(e){e.exports=JSON.parse('{"faucet":"https://35.195.150.105:5005/request","api":"https://35.195.150.105:1317","rpc":"https://35.195.150.105:26657"}')}});
//# sourceMappingURL=app.6b3d64c4.js.map